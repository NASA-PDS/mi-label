<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M18 from src/site/xdoc/operate/index.xml.vm at 2024-11-25
 | Rendered using Apache Maven Fluido Skin 2.0.0-M6
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M18" />
    <meta name="author" content="Jordan Padams" />
    <meta name="author" content="Sean Hardman" />
    <title>MILabel</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-2.0.0-M6.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-2.0.0-M6.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: black; }</style>
  </head>
  <body class="topBarDisabled">
    <a class="github-fork-ribbon right-top" href="https://github.com/nasa-pds/mi-label" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://pds.nasa.gov" id="bannerLeft"><h1>MILabel</h1>
</a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-11-25<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.5.3</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Software Documentation</li>
    <li><a href="../index.html" title="About MILabel"><span class="none"></span>About MILabel</a></li>
    <li><a href="../install/index.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li class="active"><a><span class="none"></span>Operation</a></li>
    <li><a href="../templates/index.html" title="Template Guide"><span class="none"></span>Template Guide</a></li>
    <li><a href="../index.html#Support" title="Support"><span class="none"></span>Support</a></li>
   <li class="nav-header">Download</li>
    <li><a href="https://github.com/NASA-PDS/mi-label/releases/download/v1.5.3/mi-label-1.5.3-bin.tar.gz" class="externalLink" title="Binary Package (tar.gz)"><span class="none"></span>Binary Package (tar.gz)</a></li>
    <li><a href="https://github.com/NASA-PDS/mi-label/releases/download/v1.5.3/mi-label-1.5.3-bin.zip" class="externalLink" title="Binary Package (zip)"><span class="none"></span>Binary Package (zip)</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" placeholder="Search with Google..." />
</form>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://pds.nasa.gov" title="PDS" class="builtBy"><img class="builtBy"  alt="PDS" src="../images/logos/maven-feather.png" style="" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section><a id="Operation"></a>
<h1>Operation</h1>
      
<p>This document describes how to operate the MILabel software. The following topics can be found in this document:
      </p>

      
<ul>
        
<li><a href="#Tool_Execution">Tool Execution</a></li>
        
<li><a href="#Advanced_Usage">Advanced Usage</a></li>
      </ul>

      
<p>Note: The command-line examples in this section have been broken into multiple lines for readability. The commands should be reassembled into a single line prior to execution.
      </p>
    </section>

    <section><a id="Tool_Execution"></a>
<h1>Tool Execution</h1>
      
<p>MILabel can be executed in various ways. This section describes how to run the tool, as well as its behaviors and caveats.
      </p>

      <section><a id="Command-Line_Options"></a>
<h2>Command-Line Options</h2>
        
<p>The following table describes the command-line options available:
        </p>

        
<table class="table table-striped">
          
<tr class="a">
<th>Command-Line Option</th>
<th>Description</th></tr>
          
<tr class="b">
<td>-b,--base-path &lt;base path mask&gt;</td>
<td>Specify the base file path mask to be stripped from the input file path to allow output in a relative directory structure. Requires -o flag to also be specified.</td></tr>
          
<tr class="a">
<td>-d,--debug</td>
<td>Verbose debugging output. Shows each step of parsing and label generation.</td></tr>
          
<tr class="b">
<td>-h,--help</td>
<td>Display usage.</td></tr>
          
<tr class="a">
<td>-o,--output-path &lt;output path&gt;</td>
<td>Specify an output path to output the new PDS4 labels. By default, the file will output in same location as the input file.</td></tr>
          
<tr class="b">
<td>-p,--pds3-label &lt;pds3 label&gt;</td>
<td>Parse the file or list of files as PDS3 Standard labels (also applicable for VICAR labels).</td></tr>
          
<tr class="a">
<td>-t,--template &lt;velocity template&gt;</td>
<td>Specify the file path for the Velocity template used to convert the input label(s).</td></tr>
          
<tr class="b">
<td>-I, --include &lt;paths&gt;</td>
<td>Specify paths to search for files referenced by pointers in a label. This flag is valid only when using the product-tools library as the underlying parser. Separate each path with a comma. Default is to always look in the directory of the label, then search the specified directories.</td></tr>
          
<tr class="a">
<td>-V,--version</td>
<td>Display application version.</td></tr>
        </table>

      </section>

      <section><a id="Execute_MILabel"></a>
<h2>Execute MILabel</h2>
        
<p>This section demonstrates execution of the tool using the command-line options. The examples below execute the tool via the batch/shell script.
        </p>

        
<p>The following command demonstrates how to run the MILabel to convert from a PDS3 Label to a PDS4 Label using a Velocity template file and output to a file:
        </p>

        
<pre><code>
% pds-generate -p &lt;pds3-label-path&gt; -t &lt;velocity-template-path&gt;
        </code></pre>

        
<p>The output would go into a file &lt;pds3-label-path&gt;.xml (i.e. $HOME/mpf123.img -&gt; $HOME/mpf123.xml
        </p>

        
<p>The following command demonstrates how to run the MILabel to convert from a PDS3 Label to a PDS4 Label using a Velocity template file and output all debug information to standard out:
        </p>

        
<pre><code>
% pds-generate -d -p &lt;pds3-label-path&gt; -t &lt;velocity-template-path&gt;
        </code></pre>

      </section>
    </section>
    
    <section><a id="Advanced_Usage"></a>
<h1>Advanced Usage</h1>
      
<p>This section describes more advanced ways to run the tool, as well as its behaviors and caveats.
      </p>
      
      <section><a id="Changing_the_Underlying_Parser"></a>
<h2>Changing the Underlying Parser</h2>
        
<p>The MILabel defaults to using the VicarIO library as the underlying parser when parsing input labels. The tool provides a capability to change the underlying parser to use the Product-Tools library instead. A common use case of changing the underlying parser is when an input label contains a ^STRUCTURE pointer. This section details how to set the underlying parser to the product-tools library.
        </p>
        
        
<p><b><i>UNIX-Based Environment</i></b></p>
        
        
<p>To change the underlying parser, set the <i>pds.generate.parser.type</i> Java system property to <i>product-tools</i> in the <i>pds-generate</i> shell script as follows:
        </p>
        
        
<pre><code>
Change the following line 
        
${JAVA_CMD} -jar ${GENERATE_JAR} &quot;$@&quot;

to
        
${JAVA_CMD} -Dpds.generate.parser.type=product-tools -jar ${GENERATE_JAR} &quot;$@&quot;                
        </code></pre>
        
        
<p><b><i>Windows Environment</i></b></p>
        
        
<p>To change the underlying parser, set the <i>pds.generate.parser.type</i> Java system property to <i>product-tools</i> in the <i>pds-generate.bat</i> batch file as follows:
        </p>
        
        
<pre><code>
Change the following line 
        
&quot;%JAVA_HOME%&quot;\bin\java -jar &quot;%MILABEL_JAR%&quot; %*

to

&quot;%JAVA_HOME%&quot;\bin\java -Dpds.generate.parser.type=product-tools -jar &quot;%MILABEL_JAR%&quot; %*               
        </code></pre>
        
        
<p><b><i>API Method</i></b></p>
        
        
<p>When calling the MILabel Generator Tool through the API, add the following line of code to change the underlying parser to use the PDS3 Product Tools library:
        </p>
        
        
<pre><code>
System.setProperty(&quot;pds.generate.parser.type&quot;, &quot;product-tools&quot;);
        </code></pre>
        
      </section>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2024
<a href="https://pds.nasa.gov/">Planetary Data System</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>
